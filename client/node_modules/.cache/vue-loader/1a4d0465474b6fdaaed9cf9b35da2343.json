{"remainingRequest":"E:\\projects\\viesti_lauta\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\projects\\viesti_lauta\\client\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\projects\\viesti_lauta\\client\\src\\views\\Home.vue","mtime":1609346042349},{"path":"E:\\projects\\viesti_lauta\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\projects\\viesti_lauta\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IEFQSV9VUkwgPSAnaHR0cDovL2xvY2FsaG9zdDoxMjM0L21lc3NhZ2VzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdIb21lJywKICBkYXRhOiAoKSA9PiAoewogICAgc2hvd01lc3NhZ2VGb3JtOiBmYWxzZSwKICAgIGVycm9yOiAnJywKICAgIG1lc3NhZ2VzOiBbXSwKICAgIG1lc3NhZ2U6IHsKICAgICAgdXNlcm5hbWU6ICdBbm9uJywgLy8gdGhpcyB3b3VsZCBiZSB0aGUgYWN0dWFsIHVzZXJuYW1lCiAgICAgIHN1YmplY3Q6ICdTdWJqZWN0IGdvZXMgaGVyZScsCiAgICAgIG1lc3NhZ2U6ICdNZXNzYWdlIGdvZXMgaGVyZScsCiAgICAgIGltYWdlVVJMOiAnaHR0cHM6Ly93d3cuZWRtdW5kc2dvdnRlY2guY29tL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDIwLzAxL2RlZmF1bHQtcGljdHVyZV8wXzAucG5nJywKICAgIH0sCiAgfSksCiAgY29tcHV0ZWQ6IHsKICAgIHJldmVyc2VkTWVzc2FnZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VzLnNsaWNlKCkucmV2ZXJzZSgpOwogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICBmZXRjaChBUElfVVJMKS50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuanNvbigpKS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgdGhpcy5tZXNzYWdlcyA9IHJlc3VsdDsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgYWRkTWVzc2FnZSgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5tZXNzYWdlKTsKICAgICAgZmV0Y2goQVBJX1VSTCwgewogICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHRoaXMubWVzc2FnZSksCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICB9LAogICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuanNvbigpKS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICBpZiAocmVzdWx0LmRldGFpbHMpIHsKICAgICAgICAgIC8vIHRoZXJlIHdhcyBhbiBlcnJvci4uLgogICAgICAgICAgY29uc3QgZXJyb3IgPSByZXN1bHQuZGV0YWlscy5tYXAoKGRldGFpbCkgPT4gZGV0YWlsLm1lc3NhZ2UpLmpvaW4oJy4gJyk7CiAgICAgICAgICB0aGlzLmVycm9yID0gZXJyb3I7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuZXJyb3IgPSAnJzsKICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2VGb3JtID0gZmFsc2U7CiAgICAgICAgICB0aGlzLm1lc3NhZ2VzLnB1c2gocmVzdWx0KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n  <button @click=\"showMessageForm = !showMessageForm\" type=\"button\"\n  class=\"btn btn-info mt-3 mb-3\">Toggle Message Form</button>\n  <form v-if=\"showMessageForm\" @submit.prevent=\"addMessage\" class=\"mb-3\">\n  <div v-if=\"error\" class=\"alert alert-dismissable alert-warning\">\n  <button type=\"button\" class=\"close\" data-dismiss=\"alert\">&times;</button>\n  <h4 class=\"alert-heading\">Error!</h4>\n  <p class=\"mb-0\">{{error}}</p></div>\n  <div class=\"form-group\">\n  <label for=\"subject\">Subject</label>\n  <input v-model=\"message.subject\" type=\"text\" class=\"form-control\"\n  id=\"subject\" placeholder=\"Enter a subject\" required>\n  </div>\n  <div class=\"form-group\">\n  <label for=\"message\">Message</label>\n  <textarea v-model=\"message.message\" type=\"text\" class=\"form-control\"\n  id=\"message\" rows=\"3\" required></textarea>\n  </div>\n  <div class=\"form-group\">\n  <label for=\"imageURL\">Image URL</label>\n  <input v-model=\"message.imageURL\" type=\"url\" class=\"form-control\"\n  id=\"imageURL\" placeholder=\"Put an image URL here\" required>\n  </div>\n  <button type=\"submit\" class=\"btn btn-primary\">Add Message</button>\n  </form>\n    <div class=\"list-unstyled\" v-for=\"message in reversedMessages\" :key=\"message._id\">\n<li class=\"media\">\n<img class=\"media\">\n<img class=\"mr-3\" :src=\"message.imageURL\">\n<div class=\"media-body\">\n<h4 class=\"mt-0 mb-1\">{{message.username}}</h4>\n<h5 class=\"mt-0 mb-1\">{{message.subject}}</h5>\n{{message.message}}\n<br />\n<small>{{message.created}}</small>\n<br /><br />\n</div>\n</li>\n<hr>\n</div>\n</div>\n</template>\n\n<script>\nconst API_URL = 'http://localhost:1234/messages';\nexport default {\n  name: 'Home',\n  data: () => ({\n    showMessageForm: false,\n    error: '',\n    messages: [],\n    message: {\n      username: 'Anon', // this would be the actual username\n      subject: 'Subject goes here',\n      message: 'Message goes here',\n      imageURL: 'https://www.edmundsgovtech.com/wp-content/uploads/2020/01/default-picture_0_0.png',\n    },\n  }),\n  computed: {\n    reversedMessages() {\n      return this.messages.slice().reverse();\n    },\n  },\n  mounted() {\n    fetch(API_URL).then((response) => response.json()).then((result) => {\n      this.messages = result;\n    });\n  },\n  methods: {\n    addMessage() {\n      console.log(this.message);\n      fetch(API_URL, {\n        method: 'POST',\n        body: JSON.stringify(this.message),\n        headers: {\n          'content-type': 'application/json',\n        },\n      }).then((response) => response.json()).then((result) => {\n        if (result.details) {\n          // there was an error...\n          const error = result.details.map((detail) => detail.message).join('. ');\n          this.error = error;\n        } else {\n          this.error = '';\n          this.showMessageForm = false;\n          this.messages.push(result);\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style>\nhr {\nborder-top: 1px solid green;\n}\n\nimg {\nmax-width: 300px;\nheight: auto;\n}\n</style>\n"]}]}