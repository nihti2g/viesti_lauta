{"remainingRequest":"E:\\projects\\message-board\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\projects\\message-board\\client\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\projects\\message-board\\client\\src\\views\\Home.vue","mtime":1609338546811},{"path":"E:\\projects\\message-board\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\projects\\message-board\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IEFQSV9VUkwgPSAnaHR0cDovL2xvY2FsaG9zdDoxMjM0L21lc3NhZ2VzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdIb21lJywKICBkYXRhOiAoKSA9PiAoewogICAgc2hvd01lc3NhZ2VGb3JtOiBmYWxzZSwKICAgIGVycm9yOiAnJywKICAgIG1lc3NhZ2VzOiBbXSwKICAgIG1lc3NhZ2U6IHsKICAgICAgdXNlcm5hbWU6ICdBbm9uJywKICAgICAgc3ViamVjdDogJ1N1YmplY3QgZ29lcyBoZXJlJywKICAgICAgbWVzc2FnZTogJ01lc3NhZ2UgZ29lcyBoZXJlJywKICAgICAgaW1hZ2VVUkw6ICdodHRwczovL3d3dy5lZG11bmRzZ292dGVjaC5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMjAvMDEvZGVmYXVsdC1waWN0dXJlXzBfMC5wbmcnLAogICAgfSwKICB9KSwKICBjb21wdXRlZDogewogICAgcmV2ZXJzZWRNZXNzYWdlcygpIHsKICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZXMuc2xpY2UoKS5yZXZlcnNlKCk7CiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIGZldGNoKEFQSV9VUkwpLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICB0aGlzLm1lc3NhZ2VzID0gcmVzdWx0OwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGRNZXNzYWdlKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLm1lc3NhZ2UpOwogICAgICBmZXRjaChBUElfVVJMLCB7CiAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodGhpcy5tZXNzYWdlKSwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgIH0sCiAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgIGlmIChyZXN1bHQuZGV0YWlscykgewogICAgICAgICAgLy8gdGhlcmUgd2FzIGFuIGVycm9yLi4uCiAgICAgICAgICBjb25zdCBlcnJvciA9IHJlc3VsdC5kZXRhaWxzLm1hcCgoZGV0YWlsKSA9PiBkZXRhaWwubWVzc2FnZSkuam9pbignLiAnKTsKICAgICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5lcnJvciA9ICcnOwogICAgICAgICAgdGhpcy5zaG93TWVzc2FnZUZvcm0gPSBmYWxzZTsKICAgICAgICAgIHRoaXMubWVzc2FnZXMucHVzaChyZXN1bHQpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n  <button @click=\"showMessageForm = !showMessageForm\" type=\"button\"\n  class=\"btn btn-info mt-3 mb-3\">Toggle Message Form</button>\n  <form v-if=\"showMessageForm\" @submit.prevent=\"addMessage\" class=\"mb-3\">\n  <div v-if=\"error\" class=\"alert alert-dismissable alert-warning\">\n  <button type=\"button\" class=\"close\" data-dismiss=\"alert\">&times;</button>\n  <h4 class=\"alert-heading\">Error!</h4>\n  <p class=\"mb-0\">{{error}}</p></div>\n  <div class=\"form-group\">\n  <label for=\"subject\">Subject</label>\n  <input v-model=\"message.subject\" type=\"text\" class=\"form-control\"\n  id=\"subject\" placeholder=\"Enter a subject\" required>\n  </div>\n  <div class=\"form-group\">\n  <label for=\"message\">Message</label>\n  <textarea v-model=\"message.message\" type=\"text\" class=\"form-control\"\n  id=\"message\" rows=\"3\" required></textarea>\n  </div>\n  <div class=\"form-group\">\n  <label for=\"imageURL\">Image URL</label>\n  <input v-model=\"message.imageURL\" type=\"url\" class=\"form-control\"\n  id=\"imageURL\" placeholder=\"Put an image URL here\" required>\n  </div>\n  <button type=\"submit\" class=\"btn btn-primary\">Add Message</button>\n  </form>\n    <div class=\"list-unstyled\" v-for=\"message in reversedMessages\" :key=\"message._id\">\n<li class=\"media\">\n<img class=\"media\">\n<img class=\"mr-3\" :src=\"message.imageURL\">\n<div class=\"media-body\">\n<h4 class=\"mt-0 mb-1\">{{message.username}}</h4>\n<h5 class=\"mt-0 mb-1\">{{message.subject}}</h5>\n{{message.message}}\n<br />\n<small>{{message.created}}</small>\n<br /><br />\n</div>\n</li>\n<hr>\n</div>\n</div>\n</template>\n\n<script>\nconst API_URL = 'http://localhost:1234/messages';\nexport default {\n  name: 'Home',\n  data: () => ({\n    showMessageForm: false,\n    error: '',\n    messages: [],\n    message: {\n      username: 'Anon',\n      subject: 'Subject goes here',\n      message: 'Message goes here',\n      imageURL: 'https://www.edmundsgovtech.com/wp-content/uploads/2020/01/default-picture_0_0.png',\n    },\n  }),\n  computed: {\n    reversedMessages() {\n      return this.messages.slice().reverse();\n    },\n  },\n  mounted() {\n    fetch(API_URL).then((response) => response.json()).then((result) => {\n      this.messages = result;\n    });\n  },\n  methods: {\n    addMessage() {\n      console.log(this.message);\n      fetch(API_URL, {\n        method: 'POST',\n        body: JSON.stringify(this.message),\n        headers: {\n          'content-type': 'application/json',\n        },\n      }).then((response) => response.json()).then((result) => {\n        if (result.details) {\n          // there was an error...\n          const error = result.details.map((detail) => detail.message).join('. ');\n          this.error = error;\n        } else {\n          this.error = '';\n          this.showMessageForm = false;\n          this.messages.push(result);\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style>\nhr {\nborder-top: 1px solid green;\n}\n\nimg {\nmax-width: 300px;\nheight: auto;\n}\n</style>\n"]}]}