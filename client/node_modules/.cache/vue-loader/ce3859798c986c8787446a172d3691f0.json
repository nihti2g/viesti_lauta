{"remainingRequest":"E:\\projects\\viesti_lauta\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\projects\\viesti_lauta\\client\\src\\views\\Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\projects\\viesti_lauta\\client\\src\\views\\Register.vue","mtime":1609345523436},{"path":"E:\\projects\\viesti_lauta\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\projects\\viesti_lauta\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IEFQSV9VUkwgPSAnaHR0cDovL2xvY2FsaG9zdDoxMjM0L2FjY291bnRzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdSZWdpc3RlcicsCiAgZGF0YTogKCkgPT4gKHsKICAgIGVycm9yOiAnJywKICAgIGFjY291bnRzOiBbXSwKICAgIGFjY291bnQ6IHsKICAgICAgdW5hbTogJ1VzZXJuYW1lJywKICAgICAgcHN3ZDogJ1Bhc3N3b3JkJywKICAgIH0sCiAgfSksCiAgbW91bnRlZCgpIHsKICAgIGZldGNoKEFQSV9VUkwpLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICB0aGlzLmFjY291bnRzID0gcmVzdWx0OwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGRBY2NvdW50KCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLmFjY291bnQpOwogICAgICBmZXRjaChBUElfVVJMLCB7CiAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodGhpcy5hY2NvdW50KSwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgIH0sCiAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgIGlmIChyZXN1bHQuZGV0YWlscykgewogICAgICAgICAgLy8gdGhlcmUgd2FzIGFuIGVycm9yLi4uCiAgICAgICAgICBjb25zdCBlcnJvciA9IHJlc3VsdC5kZXRhaWxzLm1hcCgoZGV0YWlsKSA9PiBkZXRhaWwuYWNjb3VudCkuam9pbignLiAnKTsKICAgICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5lcnJvciA9ICcnOwogICAgICAgICAgdGhpcy5hY2NvdW50cy5wdXNoKHJlc3VsdCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<form>\n  <div class=\"form-group\">\n    <label for=\"unam\">Username</label>\n    <textarea v-model=\"account.unam\" type=\"text\" class=\"form-control\" required></textarea>\n  </div>\n  <div class=\"form-group\">\n    <label for=\"pswd\">Password</label>\n    <textarea v-model=\"account.pswd\" type=\"text\" class=\"form-control\" required></textarea>\n  </div>\n  <button type=\"submit\" class=\"btn btn-primary\">Register</button>\n</form>\n</template>\n\n<script>\nconst API_URL = 'http://localhost:1234/accounts';\nexport default {\n  name: 'Register',\n  data: () => ({\n    error: '',\n    accounts: [],\n    account: {\n      unam: 'Username',\n      pswd: 'Password',\n    },\n  }),\n  mounted() {\n    fetch(API_URL).then((response) => response.json()).then((result) => {\n      this.accounts = result;\n    });\n  },\n  methods: {\n    addAccount() {\n      console.log(this.account);\n      fetch(API_URL, {\n        method: 'POST',\n        body: JSON.stringify(this.account),\n        headers: {\n          'content-type': 'application/json',\n        },\n      }).then((response) => response.json()).then((result) => {\n        if (result.details) {\n          // there was an error...\n          const error = result.details.map((detail) => detail.account).join('. ');\n          this.error = error;\n        } else {\n          this.error = '';\n          this.accounts.push(result);\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style>\nhr {\nborder-top: 1px solid green;\n}\n</style>\n"]}]}